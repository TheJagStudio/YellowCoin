{% extends "base.html" %}
{% block title %}Watchlist{% endblock %}
{% block content %}
<div class="col-12 col-sm-12 col-md-8 col-lg-9 col-xl-12">
      <div class="react-reveal container-fluid" style="animation-fill-mode: both; animation-duration: 1000ms; animation-delay: 0ms; animation-iteration-count: 1; opacity: 1; animation-name: react-reveal-311530932836360-1;">
            <div class="row my-3">
                  <div class="col-12 col-sm-12 col-md-12 col-lg-9 col-xl-9">
                        <div class="input-group shadow-sm">
                              <span class="input-group-text focus-none bg-transparent border-right-none" id="basic-addon1">
                                    <svg aria-hidden="true" class="svg-inline--fa fa-magnifying-glass hover-search" color="#fab417" data-icon="magnifying-glass" data-prefix="fas" focusable="false" role="img" viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                          <path d="M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z" fill="currentColor"> </path>
                                    </svg>
                              </span>
                              <input aria-describedby="basic-addon1" aria-label="Username" class="form-control focus-none border-left-none" placeholder="Search..." type="text"/>
                        </div>
                  </div>
            </div>
      </div>
      <div class="react-reveal container" style="animation-fill-mode: both; animation-duration: 1000ms; animation-delay: 0ms; animation-iteration-count: 1; opacity: 1; animation-name: react-reveal-311530932836360-1;">
            <div class="row">
                  <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">
                        <p class=""> SCRIPT </p>
                        <input list="scripts" autocomplete="off" onclick="updateToNull(this)" value="Type Script" name="script" id="script" class="bg-orange color-white height-button focus-none" style="font-size: .875rem;display: block; width: 100%; padding: 0.375rem 2.25rem 0.375rem 0.75rem; -moz-padding-start: calc(0.75rem - 3px); font-size: 1rem; font-weight: 400; line-height: 1.5; color: white; border: 1px solid #ced4da; border-radius:15px; transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out; -webkit-appearance: none; -moz-appearance: none; appearance: none;" aria-label="Default select example">
                        <datalist id="scripts">
                              {% for symbol in symbols %}
                              <option value="{{symbol}}">
                                    {% endfor %}
                              </datalist>
                        </div>
                        <div class="col-12 col-sm-6 col-md-6 col-lg-1 col-xl-1"> <button onclick="data()" class="btn color-white bg-brown margin-custom focus-none" type="button"> +ADD </button> </div>
                  </div>
            </div>
            <div id="data"> </div>
      </div>
      <script>
            function updateToNull(element)
            {
                  if(element.value=="Type Script")
                  {
                        element.value="";
                  }
            }
            function data()
            {
                  var symbol=document.getElementById("script").value; 
                  let fetchRes=fetch("/forex/data?symbol="+symbol); 
                  fetchRes.then(res=> res.json())
                  .then(d=>{
                        console.log(d["data"]); 
                        var data=d["data"]; 
                        var div=document.getElementById("data"); 
                        div.innerHTML="Symbol: "+data["symbol"]+"<br>";
                  });
            }
      </script>
      {% endblock %}